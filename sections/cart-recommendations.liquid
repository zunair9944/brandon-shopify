{%- liquid
  assign product_recommendations_id = false
  if cart.item_count > 0
    assign product_recommendations_id = cart.items[0].product.id
  endif
-%}

{%- render 'product-list' with
  title: section.settings.title, 
  text_color: section.settings.text_color, 
  bg_color: section.settings.bg_color, 
  collection: section.settings.collection, 
  footer_button_text: section.settings.footer_button_text, 
  footer_button_link: section.settings.footer_button_link, 
  product_recommendations_id: product_recommendations_id
-%}

{% schema %}
{
  "name": "Cart recommendations",
  "class": "section-products-list",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "You may also like"
    },
    {
      "type": "checkbox",
      "id": "slider_is_enabled",
      "label": "Enable slider",
      "default": true
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Collection"
    },
    {
      "type": "text",
      "id": "footer_button_text",
      "label": "Footer button text",
      "default": "Shop all"
    },
    {
      "type": "url",
      "id": "footer_button_link",
      "label": "Footer button link"
    }
  ]
}
{% endschema %}
