(()=>{"use strict";function e({wrapper:e,resultsWrapper:s,overlay:o,topPanel:r,closeButton:a}){if(e&&s&&o&&r&&a){if("true"===e.dataset.isHandled)return;function c(e){if(!("true"===e.dataset.isHandled)){const t=e.closest("form");e.addEventListener("keydown",(e=>{"Enter"===e.key&&t.submit()})),e.dataset.isHandled="true"}}e.dataset.isHandled="true",o.addEventListener("click",(()=>{a.click()})),s.dataset.isResultsWrapper="true",new MutationObserver((()=>{const e=r.querySelector(".boost-pfs-search-box");e&&(e.focus(),c(e))})).observe(e,{attributes:!0}),e.classList.add("handler-inited");const n=s.querySelector(".boost-pfs-search-suggestion");new MutationObserver((()=>{const e=!n.querySelector(".boost-pfs-search-suggestion-groups-pro, .boost-pfs-search-suggestion-mobile .boost-pfs-search-suggestion-scroll-groups-element-wrapper"),o=!n.querySelector(".boost-pfs-search-suggestion-no-result"),r=(n.querySelectorAll(".boost-pfs-search-suggestion-group[data-group='pages'] li")?.length||0)>1;t(s),s.dataset.hasResults=o,s.dataset.hasPageResults=r,s.dataset.isEmpty=e})).observe(n,{childList:!0})}}function t(e,t=200,s=600){e.querySelectorAll(`img[src*='_${t}x.']`).forEach((e=>{e.src=e.src.replace(`_${t}x.`,`_${s}x.`)}))}function s(){const[t,s]=[...document.querySelectorAll(".boost-pfs-search-suggestion-wrapper")||[]],o=document.querySelector(".boost-pfs-search-suggestion-style3-overlay"),r=document.querySelector(".boost-pfs-search-suggestion-style3-top-panel"),a=r?.querySelector(".boost-pfs-search-btn-close-suggestion");e({wrapper:t,resultsWrapper:s,overlay:o,topPanel:r,closeButton:a})}function o(){const[t,s]=[...document.querySelectorAll(".boost-pfs-search-suggestion-wrapper")||[]],o=document.querySelector(".boost-pfs-search-suggestion-mobile-overlay"),r=document.querySelector(".boost-pfs-search-suggestion-mobile-top-panel"),a=r?.querySelector(".boost-pfs-search-btn-close-suggestion");e({wrapper:t,resultsWrapper:s,overlay:o,topPanel:r,closeButton:a})}const r=window.THEME_GLOBAL;if(function(){const e=document.querySelector(".section-search"),s=e?.querySelector(".boost-pfs-search-result-header"),o=document.querySelector(".section-search .boost-pfs-search-form"),r=o?.querySelector(".boost-pfs-search-input--app"),a=o?.querySelector(".boost-pfs-search-input--custom"),c=o?.querySelector(".boost-pfs-search-btn");function n(){r.value=a.value,o.submit()}a&&(a.placeholder=r.placeholder),a?.addEventListener("keydown",(e=>{"Enter"===e.key&&n()})),c?.addEventListener("click",(()=>{n()}));const l=new MutationObserver((()=>{"true"!==s.dataset.wasModified&&s.innerHTML.length&&(s.innerHTML=function(e=""){return`<span class="italic-first-word" data-total-words="${e.split(" ").length}">${e.replace(/(?:^|(?:[.!?]\s))(\w+)/,"<i>$1</i>")}</span>`}(s.innerHTML),s.dataset.wasModified=!0);let o=!e.querySelector(".boost-pfs-search-panel-product-show .product-list-no-search-result-text");e.dataset.hasProductsResults=o;let r,a=!!e.querySelector(".boost-pfs-search-result-panel-controls > .boost-pfs-search-result-panel-item:nth-child(2)");e.dataset.hasCollectionsResults=a,e.querySelector(".boost-pfs-search-panel-product-show:not(.boost-hidden)")?r="products":e.querySelector(".boost-pfs-search-result-wrap:not(boost-hidden) .boost-pfs-search-result-collections")&&(r="collections"),e.dataset.activeTab=r,t(e)}));e&&l.observe(e,{childList:!0,subtree:!0})}(),window.innerWidth<=r.BREAKPOINT.TABLET){const e=document.querySelectorAll("[data-target='mobile'] [data-name='search'] .section-header__list-item-link, .boost-pfs-search-form-wrapper");e&&e.forEach((e=>{e.addEventListener("click",(()=>{o()})),e.addEventListener("touchstart",(()=>{o()}))}))}else{const e=document.querySelectorAll("[data-target='desktop'] [data-name='search'] .section-header__list-item-link, .boost-pfs-search-form-wrapper");e&&e.forEach((e=>{e.addEventListener("click",(()=>{s()})),e.addEventListener("mouseover",(()=>{s()}))}))}})();